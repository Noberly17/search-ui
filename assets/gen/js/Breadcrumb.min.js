webpackJsonpCoveo__temporary([58],{287:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=r(9),o=r(15),s=r(41),c=r(12),d=r(3),u=r(10),l=r(2),b=r(11),m=r(21),p=r(1),h=r(4);r(559);var f=function(e){function t(r,n,i){var c=e.call(this,r,t.ID,i)||this;return c.element=r,c.options=n,c.options=a.ComponentOptions.initComponentOptions(r,t,n),c.bind.oneRootElement(o.InitializationEvents.afterInitialization,function(){return c.handleAfterInitialization()}),c.bind.onRootElement(s.BreadcrumbEvents.redrawBreadcrumb,function(){return c.redrawBreadcrumb()}),c.element.style.display="none",c}return n(t,e),t.prototype.getBreadcrumbs=function(){var e={breadcrumbs:[]};return this.bind.trigger(this.root,s.BreadcrumbEvents.populateBreadcrumb,e),this.logger.debug("Retrieved breadcrumbs",e.breadcrumbs),this.lastBreadcrumbs=e.breadcrumbs,e.breadcrumbs},t.prototype.clearBreadcrumbs=function(){var e={};this.bind.trigger(this.root,s.BreadcrumbEvents.clearBreadcrumb,e),this.logger.debug("Clearing breadcrumbs"),this.usageAnalytics.logSearchEvent(c.analyticsActionCauseList.breadcrumbResetAll,{}),this.queryController.executeQuery()},t.prototype.drawBreadcrumb=function(e){var t=this;d.$$(this.element).empty(),0!=e.length?this.element.style.display="":this.element.style.display="none";var r=document.createElement("div");d.$$(r).addClass("coveo-breadcrumb-items"),this.element.appendChild(r),p.each(e,function(e){var t=e.element;d.$$(t).addClass("coveo-breadcrumb-item"),r.appendChild(t)});var n=d.$$("div",{className:"coveo-breadcrumb-clear-all",title:u.l("ClearAllFilters"),tabindex:0}).el,i=d.$$("div",{className:"coveo-icon coveo-breadcrumb-icon-clear-all"}).el;if(n.appendChild(i),this.searchInterface.isNewDesign()){var a=document.createElement("div");d.$$(a).text(u.l("Clear","")),n.appendChild(a),this.element.appendChild(n)}else this.element.insertBefore(n,this.element.firstChild);var o=function(){return t.clearBreadcrumbs()};this.bind.on(n,"click",o),this.bind.on(n,"keyup",m.KeyboardUtils.keypressAction(m.KEYBOARD.ENTER,o))},t.prototype.redrawBreadcrumb=function(){this.lastBreadcrumbs?this.drawBreadcrumb(this.lastBreadcrumbs):this.drawBreadcrumb(this.getBreadcrumbs())},t.prototype.handleDeferredQuerySuccess=function(){this.drawBreadcrumb(this.getBreadcrumbs())},t.prototype.handleAfterInitialization=function(){var e=this;this.bind.onRootElement(b.QueryEvents.deferredQuerySuccess,function(){return e.handleDeferredQuerySuccess()})},t}(i.Component);f.ID="Breadcrumb",f.options={},f.doExport=function(){h.exportGlobally({Breadcrumb:f})},t.Breadcrumb=f,l.Initialization.registerAutoCreateComponent(f)},559:function(e,t){}});