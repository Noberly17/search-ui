webpackJsonpCoveo__temporary([66],{294:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(9),c=n(6),u=n(11),a=n(3),s=n(2),p=n(1),l=n(4),f=function(t){function n(e,o,i){var s=t.call(this,e,n.ID,i)||this;if(s.element=e,s.options=o,s.bindings=i,s.options=r.ComponentOptions.initComponentOptions(e,n,o),"script"==s.element.tagName.toLowerCase())try{s.content=JSON.parse(c.Utils.decodeHTMLEntities(a.$$(s.element).text()))}catch(t){try{s.content=JSON.parse(a.$$(s.element).text())}catch(t){return s}}return s.bind.onRootElement(u.QueryEvents.buildingQuery,function(t){return s.handleBuildingQuery(t)}),s}return o(n,t),n.prototype.getContextKeys=function(){return this.content?p.keys(this.content):[]},n.prototype.getContextValue=function(t){var e=this,n=this.content[t];if(p.isArray(n)){var o=[];return p.each(this.content[t],function(t){o.push(e.getModifiedData(t))}),o}if(p.isString(n))return this.getModifiedData(n)},n.prototype.handleBuildingQuery=function(t){var e=this,n=this.getContextKeys();p.each(n,function(n){t.queryBuilder.addContextValue(n,e.getContextValue(n))})},n.prototype.getModifiedData=function(t){return t.replace(/\{\!([^\}]+)\}/g,function(t,e){return null!=Coveo.context&&e in Coveo.context?Coveo.context[e]:e==n.CURRENT_URL?window.location.href:""})},n.ID="PipelineContext",n.CURRENT_URL="CurrentUrl",n.doExport=function(){l.exportGlobally({PipelineContext:n,context:e.context})},n}(i.Component);e.PipelineContext=f,s.Initialization.registerAutoCreateComponent(f)}});