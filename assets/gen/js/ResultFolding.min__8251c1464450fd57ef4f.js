webpackJsonpCoveo__temporary([15],{14:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),s=function(){function t(){}return t.addClassToSVGInContainer=function(e,o){var n=e.querySelector("svg");n.setAttribute("class",""+t.getClass(n)+o)},t.removeClassFromSVGInContainer=function(e,o){var n=e.querySelector("svg");n.setAttribute("class",t.getClass(n).replace(o,""))},t.addStyleToSVGInContainer=function(t,e){var o=t.querySelector("svg");n.each(e,function(t,e){o.style[e]=t})},t.getClass=function(t){var e=t.getAttribute("class");return e?e+" ":""},t}();e.SVGDom=s},145:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=o(22),i=o(89),l=o(5),r=o(0),a=function(t){function e(e){var o=t.call(this)||this;return o.templates=e,l.Assert.exists(e),o}return n(e,t),e.prototype.instantiateToString=function(t,e){void 0===e&&(e={});for(var o=(new s.DefaultInstantiateTemplateOptions).merge(e),n=r.reject(this.templates,function(t){return null!=t.role}),i=0;i<n.length;i++){var l=n[i].instantiateToString(t,o);if(null!=l)return l}return this.getFallbackTemplate().instantiateToString(t,e)},e.prototype.instantiateToElement=function(t,e){void 0===e&&(e={});for(var o=(new s.DefaultInstantiateTemplateOptions).merge(e),n=r.reject(this.templates,function(t){return null!=t.role}),i=0;i<n.length;i++){var l=n[i].instantiateToElement(t,o);if(null!=l)return l}return this.getFallbackTemplate().instantiateToElement(t,o)},e.prototype.getFields=function(){return r.reduce(this.templates,function(t,e){return t.concat(e.getFields())},[])},e.prototype.getType=function(){return"TemplateList"},e.prototype.getFallbackTemplate=function(){return new i.DefaultResultTemplate},e}(s.Template);e.TemplateList=a},191:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=o(6),i=o(7),l=o(412),r=o(4),a=o(19),u=o(1),p=o(5),c=o(2),d=o(8),h=o(0),m=o(3),f=o(9);o(413);var g=o(13),v=o(14),C=o(74),y=function(t){function e(o,n,s,l){var r=t.call(this,o,e.ID,s)||this;return r.element=o,r.options=n,r.result=l,r.showingMoreResults=!1,r.options=i.ComponentOptions.initComponentOptions(r.element,e,n),p.Assert.exists(l),r.buildElements(),r.displayThoseResults(r.result.childResults).then(function(){r.updateElementVisibility(),c.$$(r.element.parentElement).hasClass("CoveoCardOverlay")&&r.bindOverlayEvents(),0!=r.result.childResults.length||r.result.moreResults||c.$$(r.element).hide()}),r}return n(e,t),e.prototype.showMoreResults=function(){var t=this;p.Assert.exists(this.result.moreResults),this.cancelAnyPendingShowMore(),this.moreResultsPromise=this.result.moreResults(),this.waitAnimation=c.$$("div",{className:"coveo-loading-spinner"}).el,this.results.appendChild(this.waitAnimation),this.updateElementVisibility();var e=this.moreResultsPromise.then(function(e){return t.childResults=e,t.showingMoreResults=!0,t.usageAnalytics.logClickEvent(f.analyticsActionCauseList.foldingShowMore,t.getAnalyticsMetadata(),t.result,t.element),t.displayThoseResults(e).then(function(){return t.updateElementVisibility(e.length),e})});return e.finally(function(){t.moreResultsPromise=void 0,c.$$(t.waitAnimation).detach(),t.waitAnimation=void 0}),e},e.prototype.showLessResults=function(){this.cancelAnyPendingShowMore(),this.showingMoreResults=!1,this.usageAnalytics.logCustomEvent(f.analyticsActionCauseList.foldingShowLess,this.getAnalyticsMetadata(),this.element),this.displayThoseResults(this.result.childResults),this.updateElementVisibility(),this.scrollToResultElement()},e.prototype.buildElements=function(){this.buildHeader(),this.buildResults(),this.buildFooter()},e.prototype.buildHeader=function(){var t=c.$$("div",{className:"coveo-folding-header"}).el;this.element.appendChild(t),void 0!=this.options.normalCaption&&void 0!=this.options.expandedCaption&&(this.normalCaption=c.$$("div",{className:"coveo-folding-normal-caption"},this.options.normalCaption).el,t.appendChild(this.normalCaption),this.expandedCaption=c.$$("div",{className:"coveo-folding-expanded-caption"},this.options.expandedCaption).el,t.appendChild(this.expandedCaption)),this.oneResultCaption=c.$$("div",{className:"coveo-folding-oneresult-caption"},this.options.oneResultCaption).el,t.appendChild(this.oneResultCaption)},e.prototype.buildResults=function(){this.results=c.$$("div",{className:"coveo-folding-results"}).el,this.element.appendChild(this.results)},e.prototype.buildFooter=function(){var t=this,e=c.$$("div",{className:"coveo-folding-footer"}).el;if(this.element.parentElement.appendChild(e),this.result.moreResults){this.showMore=c.$$("div",{className:"coveo-folding-footer-section-for-less"}).el,c.$$(this.showMore).on("click",function(){return t.showMoreResults()}),e.appendChild(this.showMore),this.showLess=c.$$("div",{className:"coveo-folding-footer-section-for-more"}).el,c.$$(this.showLess).on("click",function(){return t.showLessResults()}),e.appendChild(this.showLess);var o=c.$$("div",{className:"coveo-folding-more"},c.$$("span",{className:"coveo-folding-footer-icon"},g.SVGIcons.icons.arrowDown).el).el;v.SVGDom.addClassToSVGInContainer(o,"coveo-folding-more-svg");var n=c.$$("div",{className:"coveo-folding-less"},c.$$("span",{className:"coveo-folding-footer-icon"},g.SVGIcons.icons.arrowUp).el).el;v.SVGDom.addClassToSVGInContainer(n,"coveo-folding-less-svg");var s=c.$$("a",{className:"coveo-folding-show-more"},this.options.moreCaption).el,i=c.$$("a",{className:"coveo-folding-show-less"},this.options.lessCaption).el;this.showMore.appendChild(s),this.showLess.appendChild(i),this.showMore.appendChild(o),this.showLess.appendChild(n)}},e.prototype.updateElementVisibility=function(t){this.normalCaption&&c.$$(this.normalCaption).toggle(!this.showingMoreResults&&this.result.childResults.length>0),this.expandedCaption&&c.$$(this.expandedCaption).toggle(this.showingMoreResults),c.$$(this.oneResultCaption).toggleClass("coveo-hidden",!(t&&1==t)),this.showMore&&(c.$$(this.showMore).toggle(!this.showingMoreResults&&!r.Utils.exists(this.moreResultsPromise)),c.$$(this.showLess).toggle(this.showingMoreResults));var e=c.$$(this.element).find(".coveo-show-if-normal");e&&c.$$(e).toggle(!this.showingMoreResults);var o=c.$$(this.element).find(".coveo-show-if-expanded");o&&c.$$(o).toggle(this.showingMoreResults)},e.prototype.scrollToResultElement=function(){var t=c.$$(this.element).closest("CoveoResult");window.scrollTo(0,window.scrollY+t.getBoundingClientRect().top)},e.prototype.displayThoseResults=function(t){var e=this,o=h.map(t,function(t){return e.renderChildResult(t)});return Promise.all(o).then(function(t){return c.$$(e.results).empty(),h.each(t,function(t){e.results.appendChild(t)}),!0})},e.prototype.renderChildResult=function(t){var e=this;return a.QueryUtils.setStateObjectOnQueryResult(this.queryStateModel.get(),t),a.QueryUtils.setSearchInterfaceObjectOnQueryResult(this.searchInterface,t),this.options.resultTemplate.instantiateToElement(t,{wrapInDiv:!1,checkCondition:!1,responsiveComponents:this.searchInterface.responsiveComponents}).then(function(o){return c.$$(o).addClass("coveo-result-folding-child-result"),c.$$(o).toggleClass("coveo-normal-child-result",!e.showingMoreResults),c.$$(o).toggleClass("coveo-expanded-child-result",e.showingMoreResults),e.autoCreateComponentsInsideResult(o,t).initResult.then(function(){return o})})},e.prototype.autoCreateComponentsInsideResult=function(t,e){p.Assert.exists(t);var o=this.searchInterface.options,n={options:o,bindings:this.getBindings(),result:e};return u.Initialization.automaticallyCreateComponentsInside(t,n)},e.prototype.cancelAnyPendingShowMore=function(){this.moreResultsPromise&&(this.moreResultsPromise=void 0),p.Assert.doesNotExists(this.moreResultsPromise),p.Assert.doesNotExists(this.waitAnimation)},e.prototype.bindOverlayEvents=function(){var t=this;this.bind.one(this.element.parentElement,"openCardOverlay",function(){t.result.moreResults&&t.showMoreResults()})},e.prototype.getAnalyticsMetadata=function(){return{documentURL:this.result.clickUri,documentTitle:this.result.title,author:r.Utils.getFieldValue(this.result,"author")}},e.ID="ResultFolding",e.doExport=function(){m.exportGlobally({ResultFolding:e,DefaultFoldingTemplate:l.DefaultFoldingTemplate})},e.options={resultTemplate:C.TemplateComponentOptions.buildTemplateOption({defaultFunction:function(){return new l.DefaultFoldingTemplate}}),normalCaption:i.ComponentOptions.buildLocalizedStringOption(),expandedCaption:i.ComponentOptions.buildLocalizedStringOption(),moreCaption:i.ComponentOptions.buildLocalizedStringOption({postProcessing:function(t){return t||d.l("ShowMore")}}),lessCaption:i.ComponentOptions.buildLocalizedStringOption({postProcessing:function(t){return t||d.l("ShowLess")}}),oneResultCaption:i.ComponentOptions.buildLocalizedStringOption({postProcessing:function(t){return t||d.l("DisplayingTheOnlyMessage")}})},e}(s.Component);e.ResultFolding=y,u.Initialization.registerAutoCreateComponent(y)},412:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=o(22),i=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.instantiateToString=function(t){return'<div class="coveo-child-result"><span class="CoveoIcon"></span> <a class="CoveoResultLink"></a> <span class="CoveoQuickview"></span></div>'},e.prototype.getType=function(){return"DefaultFoldingTemplate"},e}(s.Template);e.DefaultFoldingTemplate=i},413:function(t,e){},74:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(58),s=o(145),i=o(46),l=o(78),r=o(7),a=o(5),u=o(4),p=o(0),c=function(){function t(){}return t.buildTemplateOption=function(e){return r.ComponentOptions.buildOption(r.ComponentOptionsType.TEMPLATE,t.loadTemplateOption,e)},t.loadTemplateOption=function(e,o,n,s){void 0===s&&(s=document);var i,l=n.selectorAttr||r.ComponentOptions.attrNameFromName(o,n)+"-selector",a=e.getAttribute(l)||r.ComponentOptions.getAttributeFromAlias(e,n);if(null!=a){var u=s.querySelector(a);null!=u&&(i=t.createResultTemplateFromElement(u))}if(null==i){var p=n.idAttr||r.ComponentOptions.attrNameFromName(o,n)+"-id",c=e.getAttribute(p)||r.ComponentOptions.getAttributeFromAlias(e,n);null!=c&&(i=t.loadResultTemplateFromId(c))}if(null==i){var d=n.childSelector;null==d&&(d="."+o.replace(/([A-Z])/g,"-$1").toLowerCase()),i=t.loadChildrenResultTemplateFromSelector(e,d)}return i},t.createResultTemplateFromElement=function(t){a.Assert.exists(t);var e=t.getAttribute("type"),o="You must specify the type of template. Valid values are: "+i.UnderscoreTemplate.mimeTypes.toString()+" "+l.HtmlTemplate.mimeTypes.toString();return a.Assert.check(u.Utils.isNonEmptyString(e),o),-1!=p.indexOf(i.UnderscoreTemplate.mimeTypes,e.toLowerCase())?i.UnderscoreTemplate.create(t):-1!=p.indexOf(l.HtmlTemplate.mimeTypes,e.toLowerCase())?new l.HtmlTemplate(t):void a.Assert.fail("Cannot guess template type from attribute: "+e+". Valid values are "+o)},t.loadResultTemplateFromId=function(t){return u.Utils.isNonEmptyString(t)?n.TemplateCache.getTemplate(t):null},t.loadChildrenResultTemplateFromSelector=function(e,o){var n=r.ComponentOptions.loadChildrenHtmlElementFromSelector(e,o);return n.length>0?new s.TemplateList(p.compact(n.map(function(e){return t.createResultTemplateFromElement(e)}))):null},t}();e.TemplateComponentOptions=c}});